{"remainingRequest":"D:\\desktop\\202208190140\\client_admin\\node_modules\\babel-loader\\lib\\index.js!D:\\desktop\\202208190140\\client_admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\desktop\\202208190140\\client_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\desktop\\202208190140\\client_admin\\src\\views\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\desktop\\202208190140\\client_admin\\src\\views\\index.vue","mtime":1645657654000},{"path":"D:\\desktop\\202208190140\\client_admin\\babel.config.js","mtime":1645657654000},{"path":"D:\\desktop\\202208190140\\client_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734072977145},{"path":"D:\\desktop\\202208190140\\client_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1734072977263},{"path":"D:\\desktop\\202208190140\\client_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734072977145},{"path":"D:\\desktop\\202208190140\\client_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1734072974335}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLm1hcC5qcyI7CmltcG9ydCBtaXhpbiBmcm9tICJAL21peGlucy9wYWdlLmpzIjsKaW1wb3J0IHBpZUNoYXJ0IGZyb20gIkAvY29tcG9uZW50cy9jaGFydHMvcGllX2NoYXJ0IjsKaW1wb3J0IGJhckNoYXJ0IGZyb20gIkAvY29tcG9uZW50cy9jaGFydHMvYmFyX2NoYXJ0IjsKaW1wb3J0IG5ld0JhckNoYXJ0IGZyb20gIkAvY29tcG9uZW50cy9jaGFydHMvbmV3X2Jhcl9jaGFydCI7CmltcG9ydCBsaW5lQ2hhcnQgZnJvbSAiQC9jb21wb25lbnRzL2NoYXJ0cy9saW5lX2NoYXJ0IjsKaW1wb3J0IG5ld0xpbmVDaGFydCBmcm9tICJAL2NvbXBvbmVudHMvY2hhcnRzL25ld19saW5lX2NoYXJ0IjsKaW1wb3J0IG1tX2xhYmVsIGZyb20gIkAvY29tcG9uZW50cy9tbV9sYWJlbC52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbbWl4aW5dLAogIG5hbWU6ICJIb21lIiwKICBjb21wb25lbnRzOiB7CiAgICBwaWVDaGFydCwKICAgIGJhckNoYXJ0LAogICAgbmV3QmFyQ2hhcnQsCiAgICBsaW5lQ2hhcnQsCiAgICBuZXdMaW5lQ2hhcnQsCiAgICBtbV9sYWJlbAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzQWRtaW46IGZhbHNlLAogICAgICByZWNvZ25pdGlvblR5cGU6ICIiLAogICAgICBhY3RpdmVOYW1lOiAidGhpcmQiLAogICAgICBsaXN0X3N0dWRlbnQ6IFtdLAogICAgICB1cmxfdXNlcl9jb3VudDogIn4vYXBpL3VzZXIvY291bnQ/IgogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFVzZXJJbmZvKCk7CiAgICAvLyDmiafooYzlrabnlJ/mlbDmja7ojrflj5YKICAgIHRoaXMuZ2V0X2xpc3Rfc3R1ZGVudCgpOwogIH0sCiAgbW91bnRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGdldF9uaWNrbmFtZShsaXN0LCBmbGFnKSB7CiAgICAgIGlmIChmbGFnKSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBhd2FpdCB0aGlzLiRnZXQoIn4vYXBpL3VzZXIvZ2V0X29iaj91c2VyX2lkPSIgKyBsaXN0W2ldLCBudWxsLCBqc29uID0+IHsKICAgICAgICAgICAgaWYgKGpzb24ucmVzdWx0KSB7CiAgICAgICAgICAgICAgbGlzdFtpXSA9IGpzb24ucmVzdWx0Lm9iai5uaWNrbmFtZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgYXdhaXQgdGhpcy4kZ2V0KCJ+L2FwaS91c2VyL2dldF9vYmo/dXNlcl9pZD0iICsgbGlzdFtpXS5uYW1lLCBudWxsLCBqc29uID0+IHsKICAgICAgICAgICAgaWYgKGpzb24ucmVzdWx0KSB7CiAgICAgICAgICAgICAgbGlzdFtpXS5uYW1lID0ganNvbi5yZXN1bHQub2JqLm5pY2tuYW1lOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDojrflj5blrabnlJ/nu5/orqHlm77mlbDmja4KICAgIGdldF9saXN0X3N0dWRlbnQoKSB7CiAgICAgIGxldCBkYXRhID0ge307CiAgICAgIGxldCBmbGFnID0gZmFsc2U7CiAgICAgIHRoaXMuJGdldCgifi9hcGkvc3R1ZGVudC9saXN0X2dyb3VwP2dyb3VwYnk9Z2VuZGVyIiwgZGF0YSwganNvbiA9PiB7CiAgICAgICAgaWYgKGpzb24ucmVzdWx0KSB7CiAgICAgICAgICB2YXIgbGlzdCA9IGpzb24ucmVzdWx0Lmxpc3Q7CiAgICAgICAgICB0aGlzLmxpc3Rfc3R1ZGVudCA9IGxpc3QubWFwKG8gPT4gewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIG5hbWU6IG9bMV0sCiAgICAgICAgICAgICAgdmFsdWU6IG9bMF0KICAgICAgICAgICAgfTsKICAgICAgICAgIH0pOwogICAgICAgICAgaWYgKGZsYWcpIHsKICAgICAgICAgICAgdGhpcy5nZXRfbmlja25hbWUodGhpcy5saXN0X3N0dWRlbnQsIGZhbHNlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldFVzZXJJbmZvKCkgewogICAgICBsZXQgdXNlckdyb3VwID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyX2dyb3VwJyk7CiAgICAgIGlmICh1c2VyR3JvdXApIHsKICAgICAgICBsZXQgX3VzZXJHcm91cCA9IEpTT04ucGFyc2UodXNlckdyb3VwKTsKICAgICAgICBsZXQgX2luZm8gPSBKU09OLnBhcnNlKF91c2VyR3JvdXAudmFsdWUpOwogICAgICAgIHRoaXMuaXNBZG1pbiA9IF9pbmZvWyJ1c2VyX2dyb3VwIl0gPT0gIueuoeeQhuWRmCIgPyB0cnVlIDogZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICByZWNvZ25pdGlvbkhlaWdodCgpIHsKICAgICAgaWYgKHRoaXMucmVjb2duaXRpb25UeXBlID09PSAiZmFjZSIpIHsKICAgICAgICByZXR1cm4gIjEwNzBweCI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIxMTgwcHgiOwogICAgICB9CiAgICB9LAogICAgcmVjb2duaXRpb25VcmwoKSB7CiAgICAgIGlmICh0aGlzLnJlY29nbml0aW9uVHlwZSA9PT0gImZhY2UiKSB7CiAgICAgICAgcmV0dXJuICJodHRwczovL3d3dy5zay1haS5jb20vRXhwZXJpZW5jZS9mYWNlLWNvbXBhcmUiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiaHR0cHM6Ly93d3cuc2stYWkuY29tL0V4cGVyaWVuY2UvcmVjb2duaXRpb24/dHlwZT0iOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["mixin","pieChart","barChart","newBarChart","lineChart","newLineChart","mm_label","mixins","name","components","data","isAdmin","recognitionType","activeName","list_student","url_user_count","created","getUserInfo","get_list_student","mounted","methods","get_nickname","list","flag","i","length","$get","json","result","obj","nickname","map","o","value","userGroup","window","localStorage","getItem","_userGroup","JSON","parse","_info","computed","recognitionHeight","recognitionUrl"],"sources":["src/views/index.vue"],"sourcesContent":["<template>\r\n\t<div class=\"page_root\" id=\"root_index\">\r\n\t\t<div class=\"warp\">\r\n\t\t\t<div class=\"container-fluid\">\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t\t<mm_label bg_color=\"bg_purple\" icon=\"el-icon-user-solid\" :url=\"url_user_count\" unit=\"人\"\r\n\t\t\t\t\t\t\t\t  title=\"用户数量\"></mm_label>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col v-if=\"user_group == '管理员' || $check_figure('/student/table')\" :span=\"8\">\r\n\t\t\t\t\t\t<div class=\"card chart\">\r\n\t\t\t\t\t\t\t<pieChart v-if=\"list_student.length\" id=\"list_student\" :list=\"list_student\" :title=\"'学生统计'\"></pieChart>\r\n\t\t\t\t\t\t\t<div v-if=\"!list_student.length\">学生没有符合条件的数据</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport mixin from \"@/mixins/page.js\";\r\n\timport pieChart from \"@/components/charts/pie_chart\";\r\n\timport barChart from \"@/components/charts/bar_chart\";\r\n\timport newBarChart from \"@/components/charts/new_bar_chart\";\r\n\timport lineChart from \"@/components/charts/line_chart\";\r\n\timport newLineChart from \"@/components/charts/new_line_chart\";\r\n\timport mm_label from \"@/components/mm_label.vue\";\r\n\texport default {\r\n\t\tmixins: [mixin],\r\n\t\tname: \"Home\",\r\n\t\tcomponents: {\r\n\t\t\tpieChart,\r\n\t\t\tbarChart,\r\n\t\t\tnewBarChart,\r\n\t\t\tlineChart,\r\n\t\t\tnewLineChart,\r\n\t\t\tmm_label\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisAdmin: false,\r\n\t\t\t\trecognitionType: \"\",\r\n\t\t\t\tactiveName: \"third\",\r\n\t\t\t\tlist_student: [],\r\n\t\t\t\turl_user_count: \"~/api/user/count?\",\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getUserInfo();\r\n\t\t\t// 执行学生数据获取\r\n\t\t\tthis.get_list_student();\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\tmounted() {},\r\n\t\tmethods: {\r\n\t\t\tasync get_nickname(list,flag){\r\n\t\t\t\tif (flag) {\r\n\t\t\t\t\tfor (let i=0;i<list.length;i++){\r\n\t\t\t\t\t\tawait this.$get(\r\n\t\t\t\t\t\t\t\t\"~/api/user/get_obj?user_id=\"+list[i],\r\n\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t(json) => {\r\n\t\t\t\t\t\t\t\t\tif (json.result) {\r\n\t\t\t\t\t\t\t\t\t\tlist[i] = json.result.obj.nickname;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else {\r\n\t\t\t\t\tfor (let i=0;i<list.length;i++){\r\n\t\t\t\t\t\tawait this.$get(\r\n\t\t\t\t\t\t\t\t\"~/api/user/get_obj?user_id=\"+list[i].name,\r\n\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t(json) => {\r\n\t\t\t\t\t\t\t\t\tif (json.result) {\r\n\t\t\t\t\t\t\t\t\t\tlist[i].name = json.result.obj.nickname;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 获取学生统计图数据\r\n\t\t\tget_list_student() {\r\n\t\t\t\tlet data = {};\r\n\t\t\t\tlet flag = false;\r\n\t\t\t\tthis.$get(\"~/api/student/list_group?groupby=gender\", data, (json) => {\r\n\t\t\t\t\tif (json.result) {\r\n\t\t\t\t\t\tvar list = json.result.list;\r\n\t\t\t\t\t\tthis.list_student = list.map((o) => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tname: o[1],\r\n\t\t\t\t\t\t\t\tvalue: o[0]\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (flag){\r\n\t\t\t\t\t\t\tthis.get_nickname(this.list_student,false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\tgetUserInfo(){\r\n\t\t\t\t\tlet userGroup = window.localStorage.getItem('user_group');\r\n\t\t\t\t\t\tif(userGroup){\r\n\t\t\t\t\t\tlet _userGroup =JSON.parse(userGroup);\r\n\t\t\t\t\t\tlet _info = JSON.parse(_userGroup.value);\r\n\t\t\t\t\t\tthis.isAdmin = _info[\"user_group\"] == \"管理员\" ? true : false;\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\trecognitionHeight(){\r\n\t\t\t\tif(this.recognitionType === \"face\"){\r\n\t\t\t\t\treturn \"1070px\"\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn \"1180px\"\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trecognitionUrl(){\r\n\t\t\t\t\tif(this.recognitionType === \"face\"){\r\n\t\t\t\t\treturn \"https://www.sk-ai.com/Experience/face-compare\"\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn \"https://www.sk-ai.com/Experience/recognition?type=\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped=\"scoped\">\r\n\t.chart {\r\n\t\tdisplay: block;\r\n\t\twidth: 100%;\r\n\t\theight: 400px;\r\n\t\tpadding: 1rem;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.el-col {\r\n\t\tpadding: 0.5rem;\r\n\t}\r\n\r\n\t.card {\r\n\t\toverflow: hidden;\r\n\t}\r\n\t\r\n\t.iframe_box ,.iframe_box_change{\r\n\t\twidth: 100%;\r\n\t\theight: 1180px;\r\n\t\tposition: relative;\r\n\t\tmargin-top: 25px;\r\n\t}\r\n\t.iframe_box_change{\r\n\t\theight: 580px;\r\n\t\tpadding-top: 50px;\r\n\t}\r\n.iframe_box\t.iframe_box_content, .iframe_box_change .iframe_box_content{\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n.iframe_box_top{\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: 100px;\r\n\tfont-size: 25px;\r\n\tline-height: 100px;\r\n\tbackground: #fff;\r\n\tz-index: 99999999;\r\n\tpadding-left: 50px;\r\n}\r\n</style>\r\n"],"mappings":";AAwBA,OAAAA,KAAA;AACA,OAAAC,QAAA;AACA,OAAAC,QAAA;AACA,OAAAC,WAAA;AACA,OAAAC,SAAA;AACA,OAAAC,YAAA;AACA,OAAAC,QAAA;AACA;EACAC,MAAA,GAAAP,KAAA;EACAQ,IAAA;EACAC,UAAA;IACAR,QAAA;IACAC,QAAA;IACAC,WAAA;IACAC,SAAA;IACAC,YAAA;IACAC;EACA;EACAI,KAAA;IACA;MACAC,OAAA;MACAC,eAAA;MACAC,UAAA;MACAC,YAAA;MACAC,cAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,WAAA;IACA;IACA,KAAAC,gBAAA;EAGA;EACAC,QAAA;EACAC,OAAA;IACA,MAAAC,aAAAC,IAAA,EAAAC,IAAA;MACA,IAAAA,IAAA;QACA,SAAAC,CAAA,MAAAA,CAAA,GAAAF,IAAA,CAAAG,MAAA,EAAAD,CAAA;UACA,WAAAE,IAAA,CACA,gCAAAJ,IAAA,CAAAE,CAAA,GACA,MACAG,IAAA;YACA,IAAAA,IAAA,CAAAC,MAAA;cACAN,IAAA,CAAAE,CAAA,IAAAG,IAAA,CAAAC,MAAA,CAAAC,GAAA,CAAAC,QAAA;YACA;UACA;QACA;MACA;QACA,SAAAN,CAAA,MAAAA,CAAA,GAAAF,IAAA,CAAAG,MAAA,EAAAD,CAAA;UACA,WAAAE,IAAA,CACA,gCAAAJ,IAAA,CAAAE,CAAA,EAAAhB,IAAA,EACA,MACAmB,IAAA;YACA,IAAAA,IAAA,CAAAC,MAAA;cACAN,IAAA,CAAAE,CAAA,EAAAhB,IAAA,GAAAmB,IAAA,CAAAC,MAAA,CAAAC,GAAA,CAAAC,QAAA;YACA;UACA;QACA;MACA;IACA;IACA;IACAZ,iBAAA;MACA,IAAAR,IAAA;MACA,IAAAa,IAAA;MACA,KAAAG,IAAA,4CAAAhB,IAAA,EAAAiB,IAAA;QACA,IAAAA,IAAA,CAAAC,MAAA;UACA,IAAAN,IAAA,GAAAK,IAAA,CAAAC,MAAA,CAAAN,IAAA;UACA,KAAAR,YAAA,GAAAQ,IAAA,CAAAS,GAAA,CAAAC,CAAA;YACA;cACAxB,IAAA,EAAAwB,CAAA;cACAC,KAAA,EAAAD,CAAA;YACA;UACA;UACA,IAAAT,IAAA;YACA,KAAAF,YAAA,MAAAP,YAAA;UACA;QACA;MACA;IACA;IACAG,YAAA;MACA,IAAAiB,SAAA,GAAAC,MAAA,CAAAC,YAAA,CAAAC,OAAA;MACA,IAAAH,SAAA;QACA,IAAAI,UAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAN,SAAA;QACA,IAAAO,KAAA,GAAAF,IAAA,CAAAC,KAAA,CAAAF,UAAA,CAAAL,KAAA;QACA,KAAAtB,OAAA,GAAA8B,KAAA;MACA;IACA;EAEA;EACAC,QAAA;IACAC,kBAAA;MACA,SAAA/B,eAAA;QACA;MACA;QACA;MACA;IACA;IACAgC,eAAA;MACA,SAAAhC,eAAA;QACA;MACA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]}]}