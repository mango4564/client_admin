{"remainingRequest":"D:\\desktop\\202208190140\\client_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\desktop\\202208190140\\client_admin\\src\\views\\dormitory_notice\\table.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\desktop\\202208190140\\client_admin\\src\\views\\dormitory_notice\\table.vue","mtime":1645657654000},{"path":"D:\\desktop\\202208190140\\client_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734072977145},{"path":"D:\\desktop\\202208190140\\client_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1734072977263},{"path":"D:\\desktop\\202208190140\\client_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734072977145},{"path":"D:\\desktop\\202208190140\\client_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1734072974335}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoJaW1wb3J0IG1peGluIGZyb20gIkAvbWl4aW5zL3BhZ2UuanMiOw0KDQoJZXhwb3J0IGRlZmF1bHQgew0KCQltaXhpbnM6IFttaXhpbl0sDQoJCWRhdGEoKSB7DQoJCQlyZXR1cm4gew0KCQkJCS8vIOW8ueahhg0KCQkJCXNob3dNb2RhbDogZmFsc2UsDQoJCQkJLy8g6I635Y+W5pWw5o2u5Zyw5Z2ADQoJCQkJdXJsX2dldF9saXN0OiAifi9hcGkvZG9ybWl0b3J5X25vdGljZS9nZXRfbGlzdD9saWtlPTAiLA0KCQkJCXVybF9kZWw6ICJ+L2FwaS9kb3JtaXRvcnlfbm90aWNlL2RlbD8iLA0KDQoJCQkJLy8g5a2X5q61SUQNCgkJCQlmaWVsZDogImRvcm1pdG9yeV9ub3RpY2VfaWQiLA0KDQoJCQkJLy8g5p+l6K+iDQoJCQkJcXVlcnk6IHsNCgkJCQkJInNpemUiOiA3LA0KCQkJCQkicGFnZSI6IDEsDQoJCQkJCSJub3RpZmljYXRpb25fdHlwZSI6ICIiLA0KCQkJCQkibm90aWNlX3RpdGxlIjogIiIsDQoJCQkJCSJsb2dpbl90aW1lIjogIiIsDQoJCQkJCSJjcmVhdGVfdGltZSI6ICIiLA0KCQkJCQkib3JkZXJieSI6IGBjcmVhdGVfdGltZSBkZXNjYA0KCQkJCX0sDQoJCQkJLy8g5pWw5o2uDQoJCQkJbGlzdDogW10sDQoJCQkJLy8g55So5oi35YiX6KGoDQoJCQkJbGlzdF91c2VyX2hvdXNla2VlcGluZ19wZXJzb25uZWw6IFtdLA0KCQkJfQ0KCQl9LA0KCQltZXRob2RzOiB7DQoJCQkvLyDlhbPpl63lvLnmoYYNCgkJCWNsb3NlTW9kYWwoKXsNCgkJCQl0aGlzLnNob3dNb2RhbCA9IGZhbHNlOw0KCQkJCX0sDQoJCQlnZXRfbGlzdF9iZWZvcmUocGFyYW0pew0KCQkJCXZhciB1c2VyX2dyb3VwID0gdGhpcy51c2VyLnVzZXJfZ3JvdXA7DQoJCQkJaWYodXNlcl9ncm91cCAhPSAi566h55CG5ZGYIil7DQoJCQkJCXN3aXRjaCh1c2VyX2dyb3VwKXsNCgkJCQkJCWNhc2UgIuWuv+euoeS6uuWRmCI6DQoJCQkJCQlwYXJhbVsiaG91c2VrZWVwaW5nX3BlcnNvbm5lbCJdID0gdGhpcy51c2VyLnVzZXJfaWQ7DQoJCQkJCQlicmVhazsNCgkJCQkJfQ0KCQkJCX0NCgkJCQlyZXR1cm4gcGFyYW07DQoJCQl9LA0KDQoJCQlvcGVuX3RpcCgpIHsNCgkJCQljb25zdCBoID0gdGhpcy4kY3JlYXRlRWxlbWVudDsNCg0KCQkJCXZhciBtZXNzYWdlID0gIiI7DQoJCQkJdmFyIGxpc3QgPSB0aGlzLmxpc3Q7DQoNCgkJCQl2YXIgaWZzID0gWyBdOw0KCQkJCWZvciAodmFyIG4gPSAwOyBuIDwgaWZzLmxlbmd0aDsgbisrKSB7DQoJCQkJCXZhciBvID0gaWZzW25dOw0KCQkJCQlmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsNCgkJCQkJCXZhciBsdCA9IGxpc3RbaV07DQoJCQkJCQlpZiAoby50eXBlID09ICLmlbDlhoUiKSB7DQoJCQkJCQkJaWYgKChvLnN0YXJ0IHx8IG8uc3RhcnQgPT09IDApICYmIChvLmVuZCB8fCBvLmVuZCA9PT0gMCkpIHsNCgkJCQkJCQkJaWYgKGx0W28uZmFjdG9yXSA+IG8uc3RhcnQgJiYgbHRbby5mYWN0b3JdIDwgby5lbmQpIHsNCgkJCQkJCQkJCW9bImlkeCJdID0gb1siaWR4Il0gKyAxOw0KCQkJCQkJCQl9DQoJCQkJCQkJfSBlbHNlIGlmIChvLnN0YXJ0IHx8IG8uc3RhcnQgPT09IDApIHsNCgkJCQkJCQkJaWYgKGx0W28uZmFjdG9yXSA+IG8uc3RhcnQpIHsNCgkJCQkJCQkJCW9bImlkeCJdID0gb1siaWR4Il0gKyAxOw0KCQkJCQkJCQl9DQoJCQkJCQkJfSBlbHNlIGlmIChvLmVuZCB8fCBvLmVuZCA9PT0gMCkgew0KCQkJCQkJCQlpZiAobHRbby5mYWN0b3JdIDwgby5lbmQpIHsNCgkJCQkJCQkJCW9bImlkeCJdID0gb1siaWR4Il0gKyAxOw0KCQkJCQkJCQl9DQoJCQkJCQkJfQ0KCQkJCQkJfSBlbHNlIGlmIChvLnR5cGUgPT0gIuaVsOWkliIpIHsNCgkJCQkJCQlpZiAoKG8uc3RhcnQgfHwgby5zdGFydCA9PT0gMCkgJiYgKG8uZW5kIHx8IG8uZW5kID09PSAwKSkgew0KCQkJCQkJCQlpZiAobHRbby5mYWN0b3JdIDwgby5zdGFydCB8fCBsdFtvLmZhY3Rvcl0gPiBvLmVuZCkgew0KCQkJCQkJCQkJb1siaWR4Il0gPSBvWyJpZHgiXSArIDE7DQoJCQkJCQkJCX0NCgkJCQkJCQl9IGVsc2UgaWYgKG8uc3RhcnQgfHwgby5zdGFydCA9PT0gMCkgew0KCQkJCQkJCQlpZiAobHRbby5mYWN0b3JdIDwgby5zdGFydCkgew0KCQkJCQkJCQkJb1siaWR4Il0gPSBvWyJpZHgiXSArIDE7DQoJCQkJCQkJCX0NCgkJCQkJCQl9IGVsc2UgaWYgKG8uZW5kIHx8IG8uZW5kID09PSAwKSB7DQoJCQkJCQkJCWlmIChsdFtvLmZhY3Rvcl0gPiBvLmVuZCkgew0KCQkJCQkJCQkJb1siaWR4Il0gPSBvWyJpZHgiXSArIDE7DQoJCQkJCQkJCX0NCgkJCQkJCQl9DQoJCQkJCQl9IGVsc2UgaWYgKG8udHlwZSA9PSAi5pel5YaFIikgew0KCQkJCQkJCWlmICgoby5zdGFydCkgJiYgKG8uZW5kKSkgew0KCQkJCQkJCQlpZiAobHRbby5mYWN0b3JdID4gby5zdGFydCAmJiBsdFtvLmZhY3Rvcl0gPCBvLmVuZCkgew0KCQkJCQkJCQkJb1siaWR4Il0gPSBvWyJpZHgiXSArIDE7DQoJCQkJCQkJCX0NCgkJCQkJCQl9IGVsc2UgaWYgKG8uc3RhcnQpIHsNCgkJCQkJCQkJaWYgKGx0W28uZmFjdG9yXSA8IG8uc3RhcnQpIHsNCgkJCQkJCQkJCW9bImlkeCJdID0gb1siaWR4Il0gKyAxOw0KCQkJCQkJCQl9DQoJCQkJCQkJfSBlbHNlIGlmIChvLmVuZCkgew0KCQkJCQkJCQlpZiAobHRbby5mYWN0b3JdID4gby5lbmQpIHsNCgkJCQkJCQkJCW9bImlkeCJdID0gb1siaWR4Il0gKyAxOw0KCQkJCQkJCQl9DQoJCQkJCQkJfQ0KCQkJCQkJfSBlbHNlIGlmIChvLnR5cGUgPT0gIuaXpeWkliIpIHsNCgkJCQkJCQlpZiAoby5zdGFydCAmJiBvLmVuZCkgew0KCQkJCQkJCQlpZiAobHRbby5mYWN0b3JdIDwgby5zdGFydCB8fCBsdFtvLmZhY3Rvcl0gPiBvLmVuZCkgew0KCQkJCQkJCQkJb1siaWR4Il0gPSBvWyJpZHgiXSArIDE7DQoJCQkJCQkJCX0NCgkJCQkJCQl9IGVsc2UgaWYgKG8uc3RhcnQpIHsNCgkJCQkJCQkJaWYgKGx0W28uZmFjdG9yXSA8IG8uc3RhcnQpIHsNCgkJCQkJCQkJCW9bImlkeCJdID0gb1siaWR4Il0gKyAxOw0KCQkJCQkJCQl9DQoJCQkJCQkJfSBlbHNlIGlmIChvLmVuZCkgew0KCQkJCQkJCQlpZiAobHRbby5mYWN0b3JdID4gby5lbmQpIHsNCgkJCQkJCQkJCW9bImlkeCJdID0gb1siaWR4Il0gKyAxOw0KCQkJCQkJCQl9DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9DQoNCgkJCQkJaWYgKG9bImlkeCJdKSB7DQoJCQkJCQltZXNzYWdlICs9IG8udGl0bGU7DQoJCQkJCQlpZiAob1sidHlwZSJdID09ICLmlbDlhoUiKSB7DQoJCQkJCQkJaWYgKG8uc3RhcnQgfHwgby5zdGFydCA9PT0gMCkgew0KCQkJCQkJCQltZXNzYWdlICs9ICLlpKfkuo4iICsgby5zdGFydDsNCgkJCQkJCQl9DQoJCQkJCQkJaWYgKChvLnN0YXJ0IHx8IG8uc3RhcnQgPT09IDApICYmIChvLmVuZCB8fCBvLmVuZCA9PT0gMCkpIHsNCgkJCQkJCQkJbWVzc2FnZSArPSAi5bm25LiUIjsNCgkJCQkJCQl9DQoJCQkJCQkJaWYgKG8uZW5kIHx8IG8uZW5kID09PSAwKSB7DQoJCQkJCQkJCW1lc3NhZ2UgKz0gIuWwj+S6jiIgKyBvLmVuZDsNCgkJCQkJCQl9DQoJCQkJCQl9IGVsc2UgaWYgKG9bInR5cGUiXSA9PSAi5pWw5aSWIikgew0KCQkJCQkJCWlmIChvLnN0YXJ0IHx8IG8uc3RhcnQgPT09IDApIHsNCgkJCQkJCQkJbWVzc2FnZSArPSAi5bCP5LqOIiArIG8uc3RhcnQ7DQoJCQkJCQkJfQ0KCQkJCQkJCWlmICgoby5zdGFydCB8fCBvLnN0YXJ0ID09PSAwKSB8fCAoby5lbmQgfHwgby5lbmQgPT09IDApKSB7DQoJCQkJCQkJCW1lc3NhZ2UgKz0gIuaIluiAhSI7DQoJCQkJCQkJfQ0KCQkJCQkJCWlmIChvLmVuZCB8fCBvLmVuZCA9PT0gMCkgew0KCQkJCQkJCQltZXNzYWdlICs9ICLlpKfkuo4iICsgby5lbmQ7DQoJCQkJCQkJfQ0KCQkJCQkJfSBlbHNlIGlmIChvWyJ0eXBlIl0gPT0gIuaXpeWGhSIpIHsNCgkJCQkJCQlpZiAoby5zdGFydCkgew0KCQkJCQkJCQltZXNzYWdlICs9ICLlnKgiICsgby5zdGFydCArICLkuYvlkI4iOw0KCQkJCQkJCX0NCgkJCQkJCQlpZiAoby5zdGFydCAmJiBvLmVuZCkgew0KCQkJCQkJCQltZXNzYWdlICs9ICLlubbkuJQiOw0KCQkJCQkJCX0NCgkJCQkJCQlpZiAoby5lbmQpIHsNCgkJCQkJCQkJbWVzc2FnZSArPSAi5ZyoIiArIG8uZW5kICsgIuS5i+WJjSI7DQoJCQkJCQkJfQ0KCQkJCQkJfSBlbHNlIGlmIChvWyJ0eXBlIl0gPT0gIuaXpeWkliIpIHsNCgkJCQkJCQlpZiAoby5zdGFydCkgew0KCQkJCQkJCQltZXNzYWdlICs9ICLlnKgiICsgby5zdGFydCArICLkuYvliY0iOw0KCQkJCQkJCX0NCgkJCQkJCQlpZiAoby5zdGFydCB8fCBvLmVuZCkgew0KCQkJCQkJCQltZXNzYWdlICs9ICLmiJbogIUiOw0KCQkJCQkJCX0NCgkJCQkJCQlpZiAoby5lbmQpIHsNCgkJCQkJCQkJbWVzc2FnZSArPSAi5ZyoIiArIG8uZW5kICsgIuS5i+WQjiI7DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQkJbWVzc2FnZSArPSAi55qE5pyJIiArIG9bImlkeCJdICsgIuadoSI7DQoJCQkJCX0NCgkJCQl9DQoNCgkJCQlpZiAobWVzc2FnZSkgew0KCQkJCQltZXNzYWdlICs9ICLvvIzpnIDopoHlpITnkIbjgIHor7flsL3lv6vlpITnkIbjgIIiOw0KCQkJCQl0aGlzLnNob3dNb2RhbCA9IHRydWU7DQoJCQkJCS8vIHRoaXMuJG5vdGlmeSh7DQoJCQkJCS8vIAl0aXRsZTogJ+aPkOmGkicsDQoJCQkJCS8vIAlkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmc6IHRydWUsDQoJCQkJCS8vIAltZXNzYWdlOiBoKCdpJywgew0KCQkJCQkvLyAJCXN0eWxlOiAnY29sb3I6IHRlYWwnDQoJCQkJCS8vIAl9LCBtZXNzYWdlKQ0KCQkJCQkvLyB9KTsNCgkJCQl9DQoJCQl9LA0KCQkJLyoqDQoJCQkgKiDojrflj5blrr/nrqHkurrlkZjnlKjmiLfliJfooagNCgkJCSAqLw0KCQkJYXN5bmMgZ2V0X2xpc3RfdXNlcl9ob3VzZWtlZXBpbmdfcGVyc29ubmVsKCkgew0KCQkJCXZhciBqc29uID0gYXdhaXQgdGhpcy4kZ2V0KCJ+L2FwaS91c2VyL2dldF9saXN0P3VzZXJfZ3JvdXA95a6/566h5Lq65ZGYIik7DQoJCQkJaWYoanNvbi5yZXN1bHQgJiYganNvbi5yZXN1bHQubGlzdCl7DQoJCQkJCXRoaXMubGlzdF91c2VyX2hvdXNla2VlcGluZ19wZXJzb25uZWwgPSBqc29uLnJlc3VsdC5saXN0Ow0KCQkJCX0NCgkJCQllbHNlIGlmKGpzb24uZXJyb3Ipew0KCQkJCQljb25zb2xlLmVycm9yKGpzb24uZXJyb3IpOw0KCQkJCX0NCgkJCX0sDQoNCgkJCWdldF91c2VyX2hvdXNla2VlcGluZ19wZXJzb25uZWwoaWQpew0KCQkJCXZhciBvYmogPSB0aGlzLmxpc3RfdXNlcl9ob3VzZWtlZXBpbmdfcGVyc29ubmVsLmdldE9iaih7InVzZXJfaWQiOmlkfSk7DQoJCQkJdmFyIHJldCA9ICIiOw0KCQkJCWlmKG9iail7DQoJCQkJCXJldCA9IG9iai5uaWNrbmFtZSsiLSIrb2JqLnVzZXJuYW1lOw0KCQkJCQkvLyBpZihvYmoubmlja25hbWUpew0KCQkJCQkvLyAJcmV0ID0gb2JqLm5pY2tuYW1lOw0KCQkJCQkvLyB9DQoJCQkJCS8vIGVsc2V7DQoJCQkJCS8vIAlyZXQgPSBvYmoudXNlcm5hbWU7DQoJCQkJCS8vIH0NCgkJCQl9DQoJCQkJcmV0dXJuIHJldDsNCgkJCX0sDQoJCQlkZWxldGVSb3coaW5kZXgsIHJvd3MpIHsNCgkJCQlyb3dzLnNwbGljZShpbmRleCwgMSk7DQoJCQl9DQoNCgkJfSwNCgkJY3JlYXRlZCgpIHsNCgkJCXRoaXMuZ2V0X2xpc3RfdXNlcl9ob3VzZWtlZXBpbmdfcGVyc29ubmVsKCk7DQoJCQlzZXRUaW1lb3V0KCgpID0+IHsNCgkJCQl0aGlzLm9wZW5fdGlwKCk7DQoJCQl9LCAxMDAwKQ0KCQl9DQoJfQ0K"},{"version":3,"sources":["table.vue"],"names":[],"mappings":";AAiGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"table.vue","sourceRoot":"src/views/dormitory_notice","sourcesContent":["<template>\r\n\t<el-main class=\"bg\">\r\n\t\t<el-form label-position=\"right\" :model=\"query\" class=\"form p_4\" label-width=\"120\">\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :xs=\"24\" :sm=\"24\" :lg=\"8\">\r\n\t\t\t\t\t<el-form-item label=\"通知类型\">\r\n\t\t\t\t\t\t<el-input v-model=\"query.notification_type\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col :xs=\"24\" :sm=\"24\" :lg=\"8\">\r\n\t\t\t\t\t<el-form-item label=\"通知标题\">\r\n\t\t\t\t\t\t<el-input v-model=\"query.notice_title\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-col>\r\n\r\n\t\t\t\t<el-col :xs=\"24\" :sm=\"10\" :lg=\"8\">\r\n\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"search()\">查询</el-button>\r\n\t\t\t\t\t\t<el-button @click=\"reset()\" style=\"margin-right: 74px;\">重置</el-button>\r\n\t\t\t\t\t\t<router-link v-if=\"user_group == '管理员' || $check_action('/dormitory_notice/table','add') || $check_action('/dormitory_notice/view','add')\" class=\"el-button el-button--default el-button--primary\" to=\"./view?\">添加\r\n\t\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t<el-button v-if=\"user_group == '管理员' || $check_action('/dormitory_notice/table','del') || $check_action('/dormitory_notice/view','del')\" class=\"\" type=\"danger\" @click=\"delInfo()\">删除</el-button>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-col>\r\n\r\n\t\t\t</el-row>\r\n\t\t</el-form>\r\n\t\t<el-table :data=\"list\" @selection-change=\"selectionChange\" @sort-change=\"$sortChange\" style=\"width: 100%\" id=\"dataTable\">\r\n\t\t\t<el-table-column fixed type=\"selection\" tooltip-effect=\"dark\" width=\"55\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"number\" label=\"编号\"\r\n\t\t\t\tv-if=\"user_group == '管理员' || $check_field('get','number')\" min-width=\"200\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"notification_type\" label=\"通知类型\"\r\n\t\t\t\tv-if=\"user_group == '管理员' || $check_field('get','notification_type')\" min-width=\"200\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"notice_title\" label=\"通知标题\"\r\n\t\t\t\tv-if=\"user_group == '管理员' || $check_field('get','notice_title')\" min-width=\"200\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"housekeeping_personnel\" label=\"宿管人员\"\r\n\t\t\t\tv-if=\"user_group == '管理员' || $check_field('get','housekeeping_personnel')\" min-width=\"200\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t{{ get_user_housekeeping_personnel(scope.row['housekeeping_personnel']) }}\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\r\n            <el-table-column sortable prop=\"create_time\" label=\"创建时间\" min-width=\"200\">\r\n                <template slot-scope=\"scope\">\r\n                \t{{ $toTime(scope.row[\"create_time\"],\"yyyy-MM-dd hh:mm:ss\") }}\r\n                </template>\r\n            </el-table-column>\r\n\r\n\t\t\t<el-table-column sortable prop=\"update_time\" label=\"更新时间\" min-width=\"200\">\r\n                <template slot-scope=\"scope\">\r\n                \t{{ $toTime(scope.row[\"update_time\"],\"yyyy-MM-dd hh:mm:ss\") }}\r\n                </template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column fixed=\"right\" label=\"操作\" min-width=\"120\" v-if=\"user_group == '管理员' || $check_action('/dormitory_notice/table','set') || $check_action('/dormitory_notice/view','set') || $check_action('/dormitory_notice/view','get') || $check_action('//table','add') || $check_action('//view','add')\" >\r\n\r\n\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<router-link class=\"el-button el-button--small is-plain el-button--success\" style=\"margin: 5px !important;\"\r\n\t\t\t\t\tv-if=\"user_group == '管理员' || $check_action('/dormitory_notice/table','set') || $check_action('/dormitory_notice/view','set') || $check_action('/dormitory_notice/view','get')\"\r\n\t\t\t\t\t\t:to=\"'./view?' + field + '=' + scope.row[field]\"\r\n\t\t\t\t\t\t size=\"small\">\r\n\t\t\t\t\t\t<span>编辑</span>\r\n\t\t\t\t\t</router-link>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\r\n\t\t</el-table>\r\n\r\n\t\t<!-- 分页器 -->\r\n\t\t<div class=\"mt text_center\">\r\n\t\t\t<el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n\t\t\t\t:current-page=\"query.page\" :page-sizes=\"[7, 10, 30, 100]\" :page-size=\"query.size\"\r\n\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\" :total=\"count\">\r\n\t\t\t</el-pagination>\r\n\t\t</div>\r\n\t\t<!-- /分页器 -->\r\n\r\n\t\t<div class=\"modal_wrap\" v-if=\"showModal\">\r\n\t\t\t<div class=\"modal_box\">\r\n\t\t\t\t<!-- <div class=\"modal_box_close\" @click=\"closeModal\">X</div> -->\r\n\t\t\t\t<p class=\"modal_box_title\">重要提醒</p>\r\n\t\t\t\t<p class=\"modal_box_text\">当前有数据达到预警值！</p>\r\n\t\t\t\t<div class=\"btn_box\">\r\n\t\t\t\t\t<span @click=\"closeModal\">取消</span>\r\n\t\t\t\t\t<span @click=\"closeModal\">确定</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\r\n\t</el-main>\r\n</template>\r\n<script>\r\n\timport mixin from \"@/mixins/page.js\";\r\n\r\n\texport default {\r\n\t\tmixins: [mixin],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 弹框\r\n\t\t\t\tshowModal: false,\r\n\t\t\t\t// 获取数据地址\r\n\t\t\t\turl_get_list: \"~/api/dormitory_notice/get_list?like=0\",\r\n\t\t\t\turl_del: \"~/api/dormitory_notice/del?\",\r\n\r\n\t\t\t\t// 字段ID\r\n\t\t\t\tfield: \"dormitory_notice_id\",\r\n\r\n\t\t\t\t// 查询\r\n\t\t\t\tquery: {\r\n\t\t\t\t\t\"size\": 7,\r\n\t\t\t\t\t\"page\": 1,\r\n\t\t\t\t\t\"notification_type\": \"\",\r\n\t\t\t\t\t\"notice_title\": \"\",\r\n\t\t\t\t\t\"login_time\": \"\",\r\n\t\t\t\t\t\"create_time\": \"\",\r\n\t\t\t\t\t\"orderby\": `create_time desc`\r\n\t\t\t\t},\r\n\t\t\t\t// 数据\r\n\t\t\t\tlist: [],\r\n\t\t\t\t// 用户列表\r\n\t\t\t\tlist_user_housekeeping_personnel: [],\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 关闭弹框\r\n\t\t\tcloseModal(){\r\n\t\t\t\tthis.showModal = false;\r\n\t\t\t\t},\r\n\t\t\tget_list_before(param){\r\n\t\t\t\tvar user_group = this.user.user_group;\r\n\t\t\t\tif(user_group != \"管理员\"){\r\n\t\t\t\t\tswitch(user_group){\r\n\t\t\t\t\t\tcase \"宿管人员\":\r\n\t\t\t\t\t\tparam[\"housekeeping_personnel\"] = this.user.user_id;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn param;\r\n\t\t\t},\r\n\r\n\t\t\topen_tip() {\r\n\t\t\t\tconst h = this.$createElement;\r\n\r\n\t\t\t\tvar message = \"\";\r\n\t\t\t\tvar list = this.list;\r\n\r\n\t\t\t\tvar ifs = [ ];\r\n\t\t\t\tfor (var n = 0; n < ifs.length; n++) {\r\n\t\t\t\t\tvar o = ifs[n];\r\n\t\t\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\t\t\tvar lt = list[i];\r\n\t\t\t\t\t\tif (o.type == \"数内\") {\r\n\t\t\t\t\t\t\tif ((o.start || o.start === 0) && (o.end || o.end === 0)) {\r\n\t\t\t\t\t\t\t\tif (lt[o.factor] > o.start && lt[o.factor] < o.end) {\r\n\t\t\t\t\t\t\t\t\to[\"idx\"] = o[\"idx\"] + 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (o.start || o.start === 0) {\r\n\t\t\t\t\t\t\t\tif (lt[o.factor] > o.start) {\r\n\t\t\t\t\t\t\t\t\to[\"idx\"] = o[\"idx\"] + 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (o.end || o.end === 0) {\r\n\t\t\t\t\t\t\t\tif (lt[o.factor] < o.end) {\r\n\t\t\t\t\t\t\t\t\to[\"idx\"] = o[\"idx\"] + 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (o.type == \"数外\") {\r\n\t\t\t\t\t\t\tif ((o.start || o.start === 0) && (o.end || o.end === 0)) {\r\n\t\t\t\t\t\t\t\tif (lt[o.factor] < o.start || lt[o.factor] > o.end) {\r\n\t\t\t\t\t\t\t\t\to[\"idx\"] = o[\"idx\"] + 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (o.start || o.start === 0) {\r\n\t\t\t\t\t\t\t\tif (lt[o.factor] < o.start) {\r\n\t\t\t\t\t\t\t\t\to[\"idx\"] = o[\"idx\"] + 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (o.end || o.end === 0) {\r\n\t\t\t\t\t\t\t\tif (lt[o.factor] > o.end) {\r\n\t\t\t\t\t\t\t\t\to[\"idx\"] = o[\"idx\"] + 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (o.type == \"日内\") {\r\n\t\t\t\t\t\t\tif ((o.start) && (o.end)) {\r\n\t\t\t\t\t\t\t\tif (lt[o.factor] > o.start && lt[o.factor] < o.end) {\r\n\t\t\t\t\t\t\t\t\to[\"idx\"] = o[\"idx\"] + 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (o.start) {\r\n\t\t\t\t\t\t\t\tif (lt[o.factor] < o.start) {\r\n\t\t\t\t\t\t\t\t\to[\"idx\"] = o[\"idx\"] + 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (o.end) {\r\n\t\t\t\t\t\t\t\tif (lt[o.factor] > o.end) {\r\n\t\t\t\t\t\t\t\t\to[\"idx\"] = o[\"idx\"] + 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (o.type == \"日外\") {\r\n\t\t\t\t\t\t\tif (o.start && o.end) {\r\n\t\t\t\t\t\t\t\tif (lt[o.factor] < o.start || lt[o.factor] > o.end) {\r\n\t\t\t\t\t\t\t\t\to[\"idx\"] = o[\"idx\"] + 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (o.start) {\r\n\t\t\t\t\t\t\t\tif (lt[o.factor] < o.start) {\r\n\t\t\t\t\t\t\t\t\to[\"idx\"] = o[\"idx\"] + 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (o.end) {\r\n\t\t\t\t\t\t\t\tif (lt[o.factor] > o.end) {\r\n\t\t\t\t\t\t\t\t\to[\"idx\"] = o[\"idx\"] + 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (o[\"idx\"]) {\r\n\t\t\t\t\t\tmessage += o.title;\r\n\t\t\t\t\t\tif (o[\"type\"] == \"数内\") {\r\n\t\t\t\t\t\t\tif (o.start || o.start === 0) {\r\n\t\t\t\t\t\t\t\tmessage += \"大于\" + o.start;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif ((o.start || o.start === 0) && (o.end || o.end === 0)) {\r\n\t\t\t\t\t\t\t\tmessage += \"并且\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (o.end || o.end === 0) {\r\n\t\t\t\t\t\t\t\tmessage += \"小于\" + o.end;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (o[\"type\"] == \"数外\") {\r\n\t\t\t\t\t\t\tif (o.start || o.start === 0) {\r\n\t\t\t\t\t\t\t\tmessage += \"小于\" + o.start;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif ((o.start || o.start === 0) || (o.end || o.end === 0)) {\r\n\t\t\t\t\t\t\t\tmessage += \"或者\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (o.end || o.end === 0) {\r\n\t\t\t\t\t\t\t\tmessage += \"大于\" + o.end;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (o[\"type\"] == \"日内\") {\r\n\t\t\t\t\t\t\tif (o.start) {\r\n\t\t\t\t\t\t\t\tmessage += \"在\" + o.start + \"之后\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (o.start && o.end) {\r\n\t\t\t\t\t\t\t\tmessage += \"并且\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (o.end) {\r\n\t\t\t\t\t\t\t\tmessage += \"在\" + o.end + \"之前\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (o[\"type\"] == \"日外\") {\r\n\t\t\t\t\t\t\tif (o.start) {\r\n\t\t\t\t\t\t\t\tmessage += \"在\" + o.start + \"之前\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (o.start || o.end) {\r\n\t\t\t\t\t\t\t\tmessage += \"或者\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (o.end) {\r\n\t\t\t\t\t\t\t\tmessage += \"在\" + o.end + \"之后\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmessage += \"的有\" + o[\"idx\"] + \"条\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (message) {\r\n\t\t\t\t\tmessage += \"，需要处理、请尽快处理。\";\r\n\t\t\t\t\tthis.showModal = true;\r\n\t\t\t\t\t// this.$notify({\r\n\t\t\t\t\t// \ttitle: '提醒',\r\n\t\t\t\t\t// \tdangerouslyUseHTMLString: true,\r\n\t\t\t\t\t// \tmessage: h('i', {\r\n\t\t\t\t\t// \t\tstyle: 'color: teal'\r\n\t\t\t\t\t// \t}, message)\r\n\t\t\t\t\t// });\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 获取宿管人员用户列表\r\n\t\t\t */\r\n\t\t\tasync get_list_user_housekeeping_personnel() {\r\n\t\t\t\tvar json = await this.$get(\"~/api/user/get_list?user_group=宿管人员\");\r\n\t\t\t\tif(json.result && json.result.list){\r\n\t\t\t\t\tthis.list_user_housekeeping_personnel = json.result.list;\r\n\t\t\t\t}\r\n\t\t\t\telse if(json.error){\r\n\t\t\t\t\tconsole.error(json.error);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tget_user_housekeeping_personnel(id){\r\n\t\t\t\tvar obj = this.list_user_housekeeping_personnel.getObj({\"user_id\":id});\r\n\t\t\t\tvar ret = \"\";\r\n\t\t\t\tif(obj){\r\n\t\t\t\t\tret = obj.nickname+\"-\"+obj.username;\r\n\t\t\t\t\t// if(obj.nickname){\r\n\t\t\t\t\t// \tret = obj.nickname;\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// else{\r\n\t\t\t\t\t// \tret = obj.username;\r\n\t\t\t\t\t// }\r\n\t\t\t\t}\r\n\t\t\t\treturn ret;\r\n\t\t\t},\r\n\t\t\tdeleteRow(index, rows) {\r\n\t\t\t\trows.splice(index, 1);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.get_list_user_housekeeping_personnel();\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.open_tip();\r\n\t\t\t}, 1000)\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style type=\"text/css\">\r\n\t.bg {\r\n\t\tbackground: white;\r\n\t}\r\n\r\n\t.form.p_4 {\r\n\t\tpadding: 1rem;\r\n\t}\r\n\r\n\t.form .el-input {\r\n\t\twidth: initial;\r\n\t}\r\n\r\n\t.mt {\r\n\t\tmargin-top: 1rem;\r\n\t}\r\n\r\n\t.text_center {\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.float-right {\r\n\t\tfloat: right;\r\n\t}\r\n\r\n\r\n\t.modal_wrap{\r\n\t\twidth: 100vw;\r\n\t\theight: 100vh;\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tbackground: rgba(0,0,0,0.5);\r\n\t\tz-index: 9999999999;\r\n\t}\r\n\t.modal_wrap .modal_box{\r\n\t\twidth: 400px;\r\n\t\theight: 200px;\r\n\t\tbackground: url(\"../../assets/modal_bg.jpg\") no-repeat center;\r\n\t\tbackground-size: cover;\r\n\t\tposition: absolute;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\tmargin-left: -200px;\r\n\t\tmargin-top: -100px;\r\n\t\tborder-radius: 10px;\r\n\t\t}\r\n\t.modal_wrap .modal_box .modal_box_close{\r\n\t\tfont-size: 20px;\r\n\t\tposition: absolute;\r\n\t\ttop: 10px;\r\n\t\tright: 10px;\r\n\t\tcursor: pointer;\r\n\t\t}\r\n\t.modal_wrap .modal_box .modal_box_title{\r\n\t  text-align: center;\r\n    font-size: 18px;\r\n    margin: 16px auto;\r\n    color: #fff;\r\n    border-bottom: 1px solid rgba(117, 116, 116,0.5);\r\n    padding-bottom: 16px;\r\n    width: 356px;\r\n\t\t}\r\n\t.modal_wrap .modal_box .modal_box_text{\r\n\t\t\ttext-align: center;\r\n\t\tfont-size: 15px;\r\n\t\tcolor: #fff;\r\n\t\tmargin-top: 25px;\r\n\t\t}\r\n\t.modal_wrap .modal_box .btn_box{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: center;\r\n\t\tmargin-top: 42px;\r\n\t\t}\r\n\t\t\t.modal_wrap .modal_box .btn_box span{\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\twidth: 80px;\r\n\t\t\t\theight: 30px;\r\n\t\t\t\tline-height: 30px;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tborder: 1px solid #ccc;\r\n\t\t\t\tfont-size: 14px;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t}\r\n\t.modal_wrap .modal_box .btn_box span:nth-child(2){\r\n\t\tbackground: #409EFF;\r\n\t\tcolor: #fff;\r\n\t\tborder-color: #409EFF;\r\n\t\tmargin-left: 15px;\r\n\t}\r\n</style>\r\n"]}]}